(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,n){e.exports=n(284)},284:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(45),c=n.n(o),i=n(285),s=n(137),l=n.n(s),u=n(35),m=n(59),d=n(60),f=n(65),p=n(61),E=n(66),g={START:"start",DOING:"doing",DONE:"done",END:"end"},y={START_GAME:"START_GAME",SELECT_PLAYER:"SELECT_PLAYER",SAVE_SCORE:"SAVE_SCORE",RESET_GAME:"RESET_GAME"},v={PRIMARY:"#00d1b2",WARNING:"#ffdd57",DANGER:"#ff3860",INFO:"#209cee",SUCCESS:"#23d160"},h="https://opentdb.com/api.php?amount=10&difficulty=easy&type=multiple&category=",b=[{id:0,name:"Tess",description:"This is Tess, a travel & geography nerd",src:"/img/female-glasses.png",category:22,score:5},{id:1,name:"Mingus",description:"This is Mingus, number one boardgame fan",src:"/img/guy-beard.png",category:16,score:6},{id:2,name:"Borat",description:"This is Borat, he knows everything about movies",src:"/img/borat.png",category:11,score:7}],O={activePlayer:0,players:b||[]},S=function(e,t){switch(t.type){case y.START_GAME:return Object(u.a)({},e,{status:g.DOING});case y.SELECT_PLAYER:return Object(u.a)({},e,{activePlayer:t.payload});case y.SAVE_SCORE:var n=e.players.map(function(n){return n.id===e.activePlayer?Object(u.a)({},n,{myScore:t.payload,status:g.DONE}):n}),r=n.filter(function(e){return e.status===g.DONE&&e.myScore>e.score}).length===n.length?g.DONE:g.START;return Object(u.a)({},e,{status:r,players:n});case y.RESET_GAME:return Object(u.a)({},e,{activePlayer:0,status:g.START,players:b});default:return e}},A=a.a.createContext(),w=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).getActions=function(){return{startGame:function(){return n.state.dispatch({type:y.START_GAME})},selectPlayer:function(e){return n.state.dispatch({type:y.SELECT_PLAYER,payload:e})},saveScore:function(e){return n.state.dispatch({type:y.SAVE_SCORE,payload:e})},resetGame:function(){return n.state.dispatch({type:y.RESET_GAME})}}},n.state=Object(u.a)({},O,{dispatch:function(e){n.setState(function(t){return S(t,e)})},actions:n.getActions()}),n}return Object(E.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=this.props.children;return a.a.createElement(A.Provider,{value:e},t)}}]),t}(r.Component),j=A;w.defaultProps={children:null};var T=n(12),k=n(13),C=n(8);function P(){var e=Object(T.a)(["\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n"]);return P=function(){return e},e}var R=Object(k.a)(C.Hero).attrs({color:"primary"})(P()),N=function(){return a.a.createElement(R,null,a.a.createElement(C.Container,null,a.a.createElement(C.Heading,{size:2,align:"center"},"Quizzer")))},_=N;function x(){var e=Object(T.a)([""]);return x=function(){return e},e}N.defaultProps={};var G=Object(k.a)(C.Hero).attrs({color:"dark"})(x()),z=function(){return a.a.createElement(G,null,a.a.createElement(C.Container,null,"Footer"))},D=z;z.defaultProps={};var M=n(288),Q=n(287),I=n(286),q=function(e){return e.players.find(function(t){return e.activePlayer===t.id})},H=function(e){return e.status===g.DONE?e.score<e.myScore?"info":"danger":"warning"},L=function(e){return Math.floor(Math.random()*e)},F=n(67);function V(){var e=Object(T.a)(["\n  height: 100px;\n  width: 100px;\n  border-radius: 50%;\n  padding: 10px;\n  cursor: pointer;\n  border: solid 4px ",";\n  background-color: ",";\n"]);return V=function(){return e},e}var Y=k.a.img(V(),function(e){return e.isActivePlayer?"black":v[e.color.toUpperCase()]},function(e){return v[e.color.toUpperCase()]}),B=function(e){var t=e.player,n=e.isActivePlayer,r=Object(F.a)(e,["player","isActivePlayer"]);return a.a.createElement(Y,Object.assign({},r,{src:t.src,isActivePlayer:n,color:H(t)}))},W=B;function U(){var e=Object(T.a)(["\n"]);return U=function(){return e},e}B.defaultProps={isActivePlayer:!1};var J=Object(k.a)(C.Button).attrs({color:"primary"})(U()),$=function(e){var t=e.onClick,n=e.children,r=Object(F.a)(e,["onClick","children"]);return a.a.createElement(J,Object.assign({},r,{onClick:t}),n)},K=$;$.defaultProps={onClick:function(){}};var X=n(64),Z=n(41),ee=function(e){var t=e.player,n=t.name||"?",r=t.myScore||0;return a.a.createElement(Z.VictoryChart,{height:120,width:240,theme:Z.VictoryTheme.material,domainPadding:{y:30},animate:{duration:500,onLoad:{duration:1e3}},padding:{top:10,bottom:30,left:60,right:30}},a.a.createElement(Z.VictoryAxis,{tickValues:Object(X.a)(Array(11).keys()),domain:[0,10]}),a.a.createElement(Z.VictoryAxis,{dependentAxis:!0}),a.a.createElement(Z.VictoryBar,{horizontal:!0,style:{data:{fill:function(e){return"you"===e.x?v.INFO:v.WARNING}}},barWidth:20,data:[{x:n,y:t.score},{x:"you",y:r}]}))},te=ee;function ne(){var e=Object(T.a)(["\n  margin-bottom: ","rem;\n"]);return ne=function(){return e},e}function re(){var e=Object(T.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n"]);return re=function(){return e},e}function ae(){var e=Object(T.a)([""]);return ae=function(){return e},e}function oe(){var e=Object(T.a)(["\n  margin-top: 2rem;\n  margin-bottom: 2rem;\n  background-color: white;\n  max-width: 400px;\n"]);return oe=function(){return e},e}ee.defaultProps={player:{name:"?"}};var ce=Object(k.a)(C.Section).attrs({renderAs:"article"})(oe()),ie=Object(k.a)(C.Tile).attrs({kind:"child",notification:!0})(ae()),se=k.a.div(re()),le=k.a.div(ne(),function(e){return e.size}),ue=function(){return a.a.createElement(j.Consumer,null,function(e){var t=q(e);return a.a.createElement(r.Fragment,null,e.status===g.DOING&&a.a.createElement(I.a,{to:{pathname:"/question"}}),a.a.createElement(C.Section,null,e.status===g.DONE&&a.a.createElement(r.Fragment,null,a.a.createElement(C.Tile,{notification:!0,color:"success"},a.a.createElement(C.Heading,{size:4},"Congratulations! You won all challenges!")),a.a.createElement(K,{onClick:e.actions.resetGame},"Reset game"),a.a.createElement(le,{size:2})),a.a.createElement(r.Fragment,null,a.a.createElement(se,null,function(e){return e.players.map(function(t){return a.a.createElement(W,{key:t.id,player:t,title:t.name,isActivePlayer:e.activePlayer===t.id,onClick:function(){return e.actions.selectPlayer(t.id)}})})}(e)),a.a.createElement(ie,{color:H(t)},a.a.createElement(C.Heading,{size:5},t.description||""),a.a.createElement(C.Element,null,a.a.createElement("strong",null,"Status:\xa0"),t.status===g.DONE?t.score<t.myScore?"You have defeated ".concat(t.name,"!"):"You lost against ".concat(t.name,". Try again!"):"You have not challenged ".concat(t.name," yet")),a.a.createElement(ce,null,a.a.createElement(te,{player:t})),a.a.createElement(K,{onClick:e.actions.startGame,disabled:t.status===g.DONE&&t.myScore>t.score},"Challenge ",t.name||"?")))))})},me=ue;function de(){var e=Object(T.a)(["\n  background-color: white !important;\n  ","\n  ","\n  cursor: ",";\n  transition: background-color 200ms;\n  &:hover {\n    ",";\n  }\n"]);return de=function(){return e},e}function fe(){var e=Object(T.a)([""]);return fe=function(){return e},e}function pe(){var e=Object(T.a)(["\n  margin-bottom: 1rem;\n"]);return pe=function(){return e},e}ue.defaultProps={game:{players:[]}};var Ee=Object(k.a)(C.Hero)(pe());Ee.displayName="Hero";var ge=Object(k.a)(C.Tile).attrs({notification:!0,color:"warning",kind:"child",renderAs:"div"})(fe());ge.displayName="Question";var ye=Object(k.a)(C.Tile).attrs({notification:!0,renderAs:"div"})(de(),function(e){return e.selectedanswer&&"background-color: ".concat(v.DANGER," !important;")},function(e){return e.correctanswer&&"background-color: ".concat(v.SUCCESS," !important;")},function(e){return e.answered?"normal":"pointer"},function(e){return!e.answered&&"background-color: #fdfdfd !important"});ye.displayName="Answer";var ve=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).selectAnswer=function(e,t){var r=n.state.answered,a=e===t?1:0;r||n.setState(function(t){return{answered:e,score:t.score+a}})},n.nextQuestion=function(){if(9===n.state.activeQuestion){var e=n.state.score;n.props.game.actions.saveScore(e)}else{var t=L(4);n.setState(function(e){return{activeQuestion:e.activeQuestion+1,answered:!1,correctAnswer:t}})}},n.loadQuestions=function(e){n.props.game.status===g.DOING&&(n.setState({loading:!0}),fetch("".concat(h).concat(e)).then(function(e){return e.json()}).then(function(e){if(n.setState({loading:!1}),e.response_code>0)n.setState({error:!0});else{var t=L(4);n.setState({questions:e.results,correctAnswer:t,error:!1})}}).catch(function(e){n.setState({error:!0}),console.warning("got error:",e)}))},n.renderQuestion=function(){var e=n.state,t=e.answered,o=e.questions,c=e.activeQuestion,i=e.correctAnswer,s=o[c];if(s){var l=Object(X.a)(s.incorrect_answers);return l.splice(i,0,s.correct_answer),a.a.createElement(r.Fragment,null,a.a.createElement(C.Heading,{size:5},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.question}})),l.map(function(e,r){return a.a.createElement(ye,{key:r,answered:t||void 0,selectedanswer:t&&t===r+1?1:void 0,correctanswer:t&&r===i?1:void 0,onClick:function(){return n.selectAnswer(r+1,i+1)}},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))}))}return null},n.state={activeQuestion:0,correctAnswer:null,questions:[],answered:!1,loading:!1,error:!1,score:0},n}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=q(this.props.game),t=e?e.category:null;this.loadQuestions(t)}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.activeQuestion,o=e.error,c=e.answered,i=this.props.game,s=q(i),l=s?s.category:null;return a.a.createElement(C.Section,null,o?a.a.createElement(Ee,{notification:!0,color:"danger"},"Error: couldn't load questions."):a.a.createElement(r.Fragment,null,i.status===g.DOING?a.a.createElement(r.Fragment,null,t?a.a.createElement(r.Fragment,null,a.a.createElement(C.Loader,null),"\xa0loading..."):a.a.createElement(r.Fragment,null,a.a.createElement(Ee,null,a.a.createElement(C.Heading,{size:4},"Category: ",function(e){return{5:"boardgames",7:"movies",22:"geography"}[e]||"unknown"}(l)),a.a.createElement(C.Heading,{subtitle:!0,size:5},"Question: ",n+1)),a.a.createElement(ge,null,this.renderQuestion(),a.a.createElement(K,{onClick:this.nextQuestion,disabled:!c},9===n?"Return":"Next question")))):a.a.createElement(I.a,{to:{pathname:"/",state:{message:"You must first select a player to take a quiz"}}})))}}]),t}(r.Component),he=ve;ve.defaultProps={game:{status:g.START,activePlayer:0}};var be=function(){return a.a.createElement(j.Consumer,null,function(e){return a.a.createElement(M.a,null,a.a.createElement(Q.a,{exact:!0,path:"/",render:function(e){return a.a.createElement(me,e)}}),a.a.createElement(Q.a,{path:"/question",render:function(t){return a.a.createElement(he,Object.assign({},t,{game:e}))}}))})},Oe=be;be.defaultProps={location:{state:{message:null}}};n(281);function Se(){var e=Object(T.a)([""]);return Se=function(){return e},e}var Ae=Object(k.a)(C.Container)(Se()),we=function(){return a.a.createElement(w,null,a.a.createElement(l.a,{title:"Quizzer",meta:[{name:"description",content:"quizzer is a quiz game"},{name:"keywords",content:"quiz, game, react"}]}),a.a.createElement(_,null),a.a.createElement(Ae,null,a.a.createElement(Oe,null)),a.a.createElement(D,null))},je=we;we.defaultProps={location:{state:{message:null}}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(i.a,null,a.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[151,2,1]]]);
//# sourceMappingURL=main.cea67040.chunk.js.map